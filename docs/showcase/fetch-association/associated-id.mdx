## 基本用法

<Tabs groupId="language">
<TabItem value="java" label="Java">

```java
BookTable table = BookTable.$;

List<Book> books = sqlClient
    .createQuery(table)
    .where(table.name().eq("Learning GraphQL"))
    .orderBy(table.edition().desc())
    .select(
        table.fetch(
            BookFetcher.$
                .allScalarFields()
                // highlight-next-line
                .authors()
        )
    )
    .execute();
```

</TabItem>
<TabItem value="kotlin" label="Kotlin">

```kotlin
val books = sqlClient
    .createQuery(Book::class) {
        where(table.name  eq "Learning GraphQL")
        orderBy(table.edition.desc())
        select(
            table.fetchBy {
                allScalarFields()
                // highlight-next-line
                authors()
            }
        )
    }
    .execute()
```

</TabItem>
</Tabs>

得到的结果为

```json
[
    {
        "id":3,
        "name":"Learning GraphQL",
        "edition":3,
        "price":51,
        "authors":[
            // highlight-next-line
            { "id":2 },
            // highlight-next-line
            { "id":1 }
        ]
    },
    {
        "id":2,
        "name":"Learning GraphQL",
        "edition":2,
        "price":55,
        "authors":[
            // highlight-next-line
            { "id":2 },
            // highlight-next-line
            { "id":1 }
        ]
    },
    {
        "id":1,
        "name":"Learning GraphQL",
        "edition":1,
        "price":50,
        "authors":[
            // highlight-next-line
            { "id":2 }, 
            // highlight-next-line
            { "id":1 }
        ]
    }
]
```