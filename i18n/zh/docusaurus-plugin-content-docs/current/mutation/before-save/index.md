---
sidebar_position: 6
title: 保存前拦截器
---

任何实体对象在被[保存指令](../save-command)保存 *(无论插入还是更新)* 前，都会被拦截器拦截。

在此，用户有一次修改被保存数据的机会，尤其是为某些缺失的属性赋值。

:::tip
如果使用拦截器为缺失的属性赋值*(这也是推荐用法)*，就和数据库级别的默认值有点类似，但是存在如下差异

-   数据库默认值只能提供业务无关的默认值规则。

-   拦截器可以根据业务上下文相关信息提供默认值，比如，当前用户在权限系统中的身份信息。

    用户可以根据这类业务上下问信息提供和业务紧密结合的默认值，这是数据库级别默认值无法实现的。
:::

Jimmer为用户提供了两种拦截器:

1.  [DraftIntereceptor](draft-interceptor):

    基本拦截器，告诉用户即将被保存的对象是什么，给予用户一次修改即将被保存的对象的机会

2.  [DraftHandler](draft-handler):

    加强后的拦截器，和`DraftInterceptor`功能完全相同，但更强大。

    对于更新操作而言，`DraftHandler`不但会告诉用户即将被保存的对象是什么，给予用户一次修改机会；还会告诉用户数据库中对应的旧数据是什么，以供用户参考。

    :::caution
    虽然，`DraftHandler`更为强大，但可能会带来额外开销。
    :::