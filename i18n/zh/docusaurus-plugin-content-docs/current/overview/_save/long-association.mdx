import Tabs from '@theme/Tabs';
import TabItem from '@theme/TabItem';

## 1. DTO代码

```sh
export yourpackage.BookStore
    -> yourpackage.dto

input CompositeBookStoreInput {
    #allScalars
    #highlight-next-line
    books {
        #allScalars
        -id
    }
}
```

编译后，将会自动生成Java/Kotlin类型`BookInput`

## 2. 保存代码

<Tabs groupId="language">
<TabItem value="java" label="Java">

```java
@PutMapping("/store")
public int saveBookStore(
    @RequestBody CompositeBookStoreInput input
) {
    return sqlClient
        .save(input)
        .getTotalAffectedRowCount();
}
```

</TabItem>
<TabItem value="kotlin" label="Kotlin">

```kotlin
@PutMapping("/store")
fun saveBookStore(
    @RequestBody input: CompositeBookStoreInput
): Int =
    sqlClient
        .save(input)
        .totalAffectedRowCount
```

</TabItem>
</Tabs>